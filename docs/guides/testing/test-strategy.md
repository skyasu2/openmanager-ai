# Test Strategy Guide

> OpenManager í…ŒìŠ¤íŠ¸ ì „ëµê³¼ ìš°ì„ ìˆœìœ„ë¥¼ ì •ì˜í•œ ê°€ì´ë“œ
> Owner: documentation
> Status: Active
> Doc type: How-to
> Last reviewed: 2026-02-21
> Canonical: docs/guides/testing/test-strategy.md
> Tags: testing,strategy,quality

---

## Overview

OpenManager AIì˜ ê¸°ë³¸ í…ŒìŠ¤íŠ¸ ì „ëµì€ **Local-First + Contract-First** ì…ë‹ˆë‹¤.

- ê¸°ë³¸ ê²€ì¦ ê²½ë¡œëŠ” `Vitest + MSW` ê¸°ë°˜ ë¡œì»¬ í…ŒìŠ¤íŠ¸
- ì™¸ë¶€ API/LLM ì‹¤í˜¸ì¶œì€ ìë™ íšŒê·€ì—ì„œ ì œì™¸
- PlaywrightëŠ” ë¡œì»¬ í•µì‹¬ ì‚¬ìš©ì í”Œë¡œìš° ê²€ì¦ì— í•œì •

> í•µì‹¬ ì›ì¹™: ë¬´ë£Œ í‹°ì–´ë¥¼ ë³´í˜¸í•˜ë©´ì„œë„, íšŒê·€ë¥¼ ë¹ ë¥´ê²Œ íƒì§€í•œë‹¤.

---

## 1. Test Pyramid (ìš´ì˜ ê¸°ì¤€)

```
      ğŸ”º ì œí•œì  ìˆ˜ë™ ìŠ¤ëª¨í¬ (ì„ íƒ)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ğŸ”ºğŸ”º ë¡œì»¬ í•µì‹¬ E2E (Playwright)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ğŸ”ºğŸ”ºğŸ”º ê³„ì•½/ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Vitest + MSW)
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### ë ˆì´ì–´ë³„ ì—­í• 

| ë ˆì´ì–´ | ë„êµ¬ | ëª©ì  | ê¸°ë³¸ ì‹¤í–‰ |
|------|------|------|-----------|
| ê³„ì•½/ë‹¨ìœ„ | Vitest, MSW, Zod | ìš”ì²­/ì‘ë‹µ í˜•ì‹, ìƒíƒœ ì „ì´, UI ë¡œì§ | í•­ìƒ |
| ë¡œì»¬ í•µì‹¬ E2E | Playwright | ê²ŒìŠ¤íŠ¸ ë¡œê·¸ì¸, ëŒ€ì‹œë³´ë“œ ë Œë”, í•µì‹¬ ìƒí˜¸ì‘ìš© | í•„ìš” ì‹œ |
| ìˆ˜ë™ ìŠ¤ëª¨í¬ | ë¸Œë¼ìš°ì € + health check | ë°°í¬ ì§í›„ ìµœì†Œ ìƒì¡´ í™•ì¸ | ì„ íƒ |

---

## 2. What We Test By Default

### í¬í•¨

- React ì»´í¬ë„ŒíŠ¸/í›… ìƒíƒœ ì „ì´
- AI ìš”ì²­ payload ê³„ì•½ (`messages`, `sessionId`, headers)
- AI ìŠ¤íŠ¸ë¦¼ ì´ë²¤íŠ¸ í˜•ì‹(SSE data event êµ¬ì¡°)
- ëŒ€ì‹œë³´ë“œ í•µì‹¬ ë Œë”ë§/ì ‘ê·¼ì„±/ì˜¤ë¥˜ í˜ì´ì§€

### ê¸°ë³¸ ì œì™¸

- PR/ë¡œì»¬ ìë™í™”ì—ì„œì˜ ì‹¤ LLM ì¶”ë¡  í˜¸ì¶œ
- Vercel í”„ë¡œë•ì…˜ URL ì§ê²© ìë™ E2E
- ì¥ì‹œê°„(ë¶„ ë‹¨ìœ„) ë„¤íŠ¸ì›Œí¬ ëŒ€ê¸° ê¸°ë°˜ í…ŒìŠ¤íŠ¸

---

## 3. Commands (í˜„ì¬ í‘œì¤€)

```bash
# ë¹ ë¥¸ ë¡œì»¬ íšŒê·€
npm run test:quick

# ê³„ì•½ í…ŒìŠ¤íŠ¸ ë¬¶ìŒ
npm run test:contract

# ë¡œì»¬ í•µì‹¬ E2E
npm run test:e2e:critical

# ê°œë°œ ì¤‘ ìµœì†Œ ê²Œì´íŠ¸
npm run test:gate

# ì „ì²´(í•„ìš” ì‹œ)
npm run validate:all
```

---

## 4. CI/Release Gate

### PR ê¸°ë³¸ ê²Œì´íŠ¸

1. `npm run test:quick`
2. `npm run type-check`
3. `npm run lint`
4. ë³€ê²½ ë²”ìœ„ê°€ ì‚¬ìš©ì í”Œë¡œìš°ì— ì˜í–¥ ì‹œ `npm run test:e2e:critical`

### ë°°í¬ ì „ ê¶Œì¥

1. `npm run test:gate`
2. `npm run test:e2e:critical`
3. `npm run test:cloud:essential` (Cloud Run ë³€ê²½ ì‹œ)

---

## 5. Cost Guardrails

- ë¬´ë£Œ í‹°ì–´ ë³´í˜¸ë¥¼ ìœ„í•´ í…ŒìŠ¤íŠ¸ ê¸°ë³¸ê°’ì€ ì™¸ë¶€ ì„œë¹„ìŠ¤ í˜¸ì¶œ 0íšŒì— ê°€ê¹ê²Œ ìœ ì§€
- ì‹¤ì¶”ë¡ /ì‹¤í´ë¼ìš°ë“œ ê²€ì¦ì´ ê¼­ í•„ìš”í•˜ë©´ ìˆ˜ë™ 1íšŒ ìŠ¤ëª¨í¬ë¡œ ì œí•œ
- ìƒˆ í…ŒìŠ¤íŠ¸ ì‘ì„± ì‹œ "ì´ í…ŒìŠ¤íŠ¸ê°€ ì™¸ë¶€ í† í°/ìš”ê¸ˆì„ ì†Œë¹„í•˜ëŠ”ê°€"ë¥¼ ë¨¼ì € íŒë‹¨

---

## Related Documents

- [E2E Testing Guide](./e2e-testing-guide.md)
- [Quick Start](../../QUICK-START.md)
- [AI Standards](../ai/ai-standards.md)
